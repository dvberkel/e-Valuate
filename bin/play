#! /usr/bin/env python

import sys

from evaluate.expression.factory import Infix


if len(sys.argv) == 2:
  expression = Infix(sys.argv[1]).create()

  while len(expression.variables()) > 0:
    value = input("Propose a value for %s: " % str(expression))
    variable = raw_input("In %s substitute %s into: " % (str(expression), str(value)))
    
    expression = expression.substitute({variable: value})
  print "Finished with %d" % expression.value()
else:
  print "usage: %s <expression>" % sys.argv[0]